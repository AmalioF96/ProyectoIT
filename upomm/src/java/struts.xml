<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
    <!-- Configuration for the default package. -->
    <package name="default" extends="struts-default">
        <action name="">
            <result type="chain">
                <param name="actionName">index</param>
            </result>
        </action>
        <action name="index">
            <result>/views/principal.jsp</result>
        </action>
    </package>
    
    <package name="productos" extends="struts-default">
        <action name="listarCategorias" class="controlador.productos.AccionCategorias" method="listar">
            <result name="success">/views/principal.jsp</result>
            <result name="crearProducto">/views/productos/crearProducto.jsp</result>
        </action>
        <action name="listarProductos" class="controlador.productos.AccionProductos" method="listar">
            <result name="success">/views/principal.jsp</result>
        </action>
        <action name="seleccionarProducto" class="controlador.productos.AccionProductos" method="seleccionarProducto">
            <result name="success">/views/productos/producto.jsp</result>
            <result name="error">/views/principal.jsp</result>
        </action>
        <action name="agregarCarrito" class="controlador.productos.AccionProductos" method="agregarCarrito">
            <result name="success" type="redirect">
                <param name="location">/views/productos/producto.jsp</param>
                <param name="idProducto">${idProducto}</param>
            </result>
            <result name="error">/views/principal.jsp</result>
        </action>
        <action name="eliminarCarrito" class="controlador.productos.AccionProductos" method="eliminarCarrito">
            <result name="carrito">/views/ventas/carrito.jsp</result>
            <result name="success" type="redirect">
                <param name="location">/views/productos/producto.jsp</param>
                <param name="idProducto">${idProducto}</param>
            </result>
            <result name="error">/views/principal.jsp</result>
        </action>
        <action name="insertarValoracion" class="controlador.productos.AccionValoraciones" method="insertar">
            <result name="success" type="redirect">
                <param name="location">/views/productos/producto.jsp</param>
                <param name="idProducto">${idProducto}</param>
                <param name="anchor">valoraciones</param>
            </result>
            <result name="error">/views/principal.jsp</result>
            <result name="input" type="redirect">
                <param name="location">/views/productos/producto.jsp</param>
                <param name="idProducto">${idProducto}</param>
                <param name="anchor">valoraciones</param>
            </result>
        </action>
        <action name="modificarValoracion" class="controlador.productos.AccionValoraciones" method="modificar">
            <result name="success" type="redirect">
                <param name="location">/views/productos/producto.jsp</param>
                <param name="idProducto">${idProducto}</param>
                <param name="anchor">valoraciones</param>
            </result>
            <result name="error">/views/principal.jsp</result>
            <result name="input" type="redirect">
                <param name="location">/views/productos/producto.jsp</param>
                <param name="idProducto">${idProducto}</param>
                <param name="anchor">valoraciones</param>
            </result>
        </action>
        <action name="eliminarValoracion" class="controlador.productos.AccionValoraciones" method="eliminar">
            <result name="success" type="redirect">
                <param name="location">/views/productos/producto.jsp</param>
                <param name="idProducto">${idProducto}</param>
                <param name="anchor">valoraciones</param>
            </result>
            <result name="error">/views/principal.jsp</result>
            <result name="input" type="redirect">
                <param name="location">/views/productos/producto.jsp</param>
                <param name="idProducto">${idProducto}</param>
                <param name="anchor">valoraciones</param>
            </result>
        </action>
        <action name="crearProducto" class="controlador.productos.AccionCrearProducto">
            <result name="success">/views/productos/producto.jsp</result>
            <result name="error">/views/productos/crearProducto.jsp</result>
            <result name="input">/views/productos/crearProducto.jsp</result>
        </action>
    </package>
    <package name="reclamaciones" extends="struts-default">
        
    </package>
    
    <package name="usuarios" extends="struts-default">
        <action name="signUp" class="controlador.usuarios.AccionSignUp">
            <result name="success">/views/principal.jsp</result>
            <result name="error">/views/usuarios/signUp.jsp</result>
            <result name="input">/views/usuarios/signUp.jsp</result>
        </action>
        <action name="accionLogin" class="controlador.usuarios.AccionLogin">
            <result name="success">/views/principal.jsp</result>
            <result name="error">/views/usuarios/login.jsp</result>
            <result name="input">/views/usuarios/login.jsp</result>
        </action>
        <action name="accionLogout" class="controlador.usuarios.AccionLogin" method="logout">
            <result name="success">/views/principal.jsp</result>
        </action>
        <action name="editarPerfil" class="controlador.usuarios.AccionEditarPerfil">
            <result name="success">/views/usuarios/perfil.jsp</result>
            <result name="error">/views/usuarios/editarPerfil.jsp</result>
            <result name="input">/views/usuarios/editarPerfil.jsp</result>
        </action>
        
        
        <action name="cambiarImagenPerfil" class="controlador.usuarios.AccionImagenPerfil">
            <interceptor-ref name="fileUpload">
                <param name="saveDir">/imagenes</param>
                <param name="allowedTypes">image/jpeg, image/png</param>
                <param name="maximumSize">2000000</param>
                <param name="allowedExtensions">jpg, jpeg, png</param>
            </interceptor-ref>
            <interceptor-ref name="defaultStack" />
            
            <result name="success">/views/usuarios/perfil.jsp</result>
            <result name="error">/views/usuarios/cambiarImagenPerfil.jsp</result>
            <result name="input">/views/usuarios/cambiarImagenPerfil.jsp</result>
        </action>
        
        
    </package>
    
    <package name="ventas" extends="struts-default">
        <action name="accionProcesarCarrito" class="controlador.ventas.AccionCarrito">
            <result name="success">/views/ventas/finalizarCompra.jsp</result>
            <result name="input">/views/ventas/carrito.jsp</result>
        </action>
        <action name="accionFinalizarCompra" class="controlador.ventas.AccionVenta">
            <result name="input">/views/ventas/finalizarCompra.jsp</result>
            <result name="success">/views/ventas/carrito.jsp</result>
            <result name="error">/views/ventas/principal.jsp</result>
        </action>
    </package>
    
</struts>
